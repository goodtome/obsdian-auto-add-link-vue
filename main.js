"use strict";var E=Object.defineProperty;var u=(a,e,t)=>e in a?E(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t;var s=(a,e,t)=>(u(a,typeof e!="symbol"?e+"":e,t),t);const c=require("obsidian"),l="csv-view";class D extends c.TextFileView{constructor(){super(...arguments);s(this,"tableData");s(this,"tableEl")}getViewData(){return console.log("table",this.tableData),this.tableData.map(t=>t.join(",")).join(`
`)}setViewData(t,n){console.log("data",t),this.tableData=t.split(`
`).map(i=>i.split(",")),console.log("aa",this.tableData),this.refresh()}refresh(){this.tableEl.empty();const t=this.tableEl.createEl("tbody");this.tableData.forEach((n,i)=>{const r=t.createEl("tr");n.forEach((h,b)=>{const g=r.createEl("td").createEl("input",{attr:{value:h}});g.oninput=o=>{o.currentTarget instanceof HTMLInputElement&&(this.tableData[i][b]=o.currentTarget.value,this.requestSave())}})})}clear(){this.tableData=[],console.log("clear",this.tableData)}getViewType(){return l}async onOpen(){console.log("open",this.tableData),this.tableEl=this.contentEl.createEl("table")}async onClose(){this.contentEl.empty(),console.log("close",this.tableData)}}const p={mySetting:"default"};class d extends c.Plugin{constructor(){super(...arguments);s(this,"settings")}async onload(){await this.loadSettings(),this.registerView(l,t=>new D(t)),this.registerExtensions(["csv"],l)}async loadSettings(){this.settings=Object.assign({},p,await this.loadData())}async saveSettings(){await this.saveData(this.settings)}}module.exports=d;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXMiOlsibGliL3ZpZXcudHMiLCJsaWIvbWFpbi50cyJdLCJzb3VyY2VzQ29udGVudCI6bnVsbCwibmFtZXMiOlsiVklFV19UWVBFX0NTViIsIkNTVlZpZXciLCJUZXh0RmlsZVZpZXciLCJfX3B1YmxpY0ZpZWxkIiwicm93IiwiZGF0YSIsImNsZWFyIiwibGluZSIsInRhYmxlQm9keSIsInRhYmxlUm93IiwiY2VsbCIsImoiLCJpbnB1dCIsImV2IiwiREVGQVVMVF9TRVRUSU5HUyIsIk15UGx1Z2luIiwiUGx1Z2luIiwibGVhZiJdLCJtYXBwaW5ncyI6ImlOQUVhQSxFQUFnQixXQUV0QixNQUFNQyxVQUFnQkMsRUFBQUEsWUFBYSxDQUFuQyxrQ0FDTEMsRUFBQSxrQkFDQUEsRUFBQSxnQkFFQSxhQUFjLENBQ0osZUFBQSxJQUFJLFFBQVMsS0FBSyxTQUFTLEVBRTVCLEtBQUssVUFBVSxJQUFLQyxHQUFRQSxFQUFJLEtBQUssR0FBRyxDQUFDLEVBQUUsS0FBSztBQUFBLENBQUksQ0FDN0QsQ0FHQSxZQUFZQyxFQUFjQyxFQUFnQixDQUNoQyxRQUFBLElBQUksT0FBUUQsQ0FBSSxFQUVuQixLQUFBLFVBQVlBLEVBQUssTUFBTTtBQUFBLENBQUksRUFBRSxJQUFLRSxHQUFTQSxFQUFLLE1BQU0sR0FBRyxDQUFDLEVBQ3ZELFFBQUEsSUFBSSxLQUFNLEtBQUssU0FBUyxFQUVoQyxLQUFLLFFBQVEsQ0FDZixDQUVBLFNBQVUsQ0FDUixLQUFLLFFBQVEsUUFFYixNQUFNQyxFQUFZLEtBQUssUUFBUSxTQUFTLE9BQU8sRUFFL0MsS0FBSyxVQUFVLFFBQVEsQ0FBQ0osRUFBSyxJQUFNLENBQzNCLE1BQUFLLEVBQVdELEVBQVUsU0FBUyxJQUFJLEVBRXBDSixFQUFBLFFBQVEsQ0FBQ00sRUFBTUMsSUFBTSxDQUN2QixNQUFNQyxFQUFRSCxFQUNYLFNBQVMsSUFBSSxFQUNiLFNBQVMsUUFBUyxDQUFFLEtBQU0sQ0FBRSxNQUFPQyxDQUFBLENBQVEsQ0FBQSxFQUV4Q0UsRUFBQSxRQUFXQyxHQUFPLENBQ2xCQSxFQUFHLHlCQUF5QixtQkFDOUIsS0FBSyxVQUFVLEdBQUdGLEdBQUtFLEVBQUcsY0FBYyxNQUN4QyxLQUFLLFlBQVksRUFDbkIsQ0FDRixDQUNELENBQUEsQ0FDRixDQUNILENBRUEsT0FBUSxDQUNOLEtBQUssVUFBWSxHQUNULFFBQUEsSUFBSSxRQUFTLEtBQUssU0FBUyxDQUNyQyxDQUVBLGFBQWMsQ0FDTCxPQUFBYixDQUNULENBRUEsTUFBTSxRQUFTLENBQ0wsUUFBQSxJQUFJLE9BQVEsS0FBSyxTQUFTLEVBRWxDLEtBQUssUUFBVSxLQUFLLFVBQVUsU0FBUyxPQUFPLENBQ2hELENBRUEsTUFBTSxTQUFVLENBQ2QsS0FBSyxVQUFVLFFBQ1AsUUFBQSxJQUFJLFFBQVMsS0FBSyxTQUFTLENBQ3JDLENBQ0YsQ0NwREEsTUFBTWMsRUFBcUMsQ0FDekMsVUFBVyxTQUNiLEVBRUEsTUFBcUJDLFVBQWlCQyxFQUFBQSxNQUFPLENBQTdDLGtDQUNFYixFQUFBLGlCQUVBLE1BQU0sUUFBUyxDQUNiLE1BQU0sS0FBSyxlQUVOLEtBQUEsYUFDSEgsRUFDQ2lCLEdBQXdCLElBQUloQixFQUFRZ0IsQ0FBSSxDQUFBLEVBRTNDLEtBQUssbUJBQW1CLENBQUMsS0FBSyxFQUFHakIsQ0FBYSxDQUNoRCxDQUVBLE1BQU0sY0FBZSxDQUNkLEtBQUEsU0FBVyxPQUFPLE9BQU8sQ0FBQSxFQUFJYyxFQUFrQixNQUFNLEtBQUssU0FBQSxDQUFVLENBQzNFLENBRUEsTUFBTSxjQUFlLENBQ2IsTUFBQSxLQUFLLFNBQVMsS0FBSyxRQUFRLENBQ25DLENBQ0YifQ==
